var Utils = new function () {
    /**
     * Valida se a entrada é um número de CPF válido.
     *
     * @param {string} cpf
     * @returns {boolean}
     */
    this.isValidCpf = function cpf (cpf) {
        cpf = cpf || null;

        if (cpf === null) {
            return false;
        }

        var regex = new RegExp("([0-9]{3}[\.]?[0-9]{3}[\.]?[0-9]{3}[-]?[0-9]{2})$");

        if (regex.test(cpf) === false) {
            return false;
        }

        cpf = cpf.replace(/[^0-9]/g, '');

        if (cpf === cpf.substr(0, 1).repeat(11)) {
            return false;
        }

        var multiplier1 = [10, 9, 8, 7, 6, 5, 4, 3, 2];
        var multiplier2 = [11, 10, 9, 8, 7, 6, 5, 4, 3, 2];

        var digit;
        var sum;
        var mod;
        var i;

        var tempCpf = cpf.substr(0, 9);
        sum = 0;

        for (i = 0; i < 9; i++) {
            sum += parseInt(tempCpf[i]) * multiplier1[i];
        }

        mod = sum % 11;
        mod = mod < 2 ? 0 : 11 - mod;
        digit = mod.toString();

        tempCpf += digit;
        sum = 0;

        for (i = 0; i < 10; i++) {
            sum += parseInt(tempCpf[i]) * multiplier2[i];
        }

        mod = sum % 11;
        mod = mod < 2 ? 0 : 11 - mod;
        digit += mod.toString();

        return cpf.substr(9, 2) === digit;
    };

    /**
     * Valida de a entrada é um número de CNPJ válido.
     *
     * @param {string} cnpj
     * @returns {boolean}
     */
    this.isValidCnpj = function (cnpj) {
        cnpj = cnpj || null;

        if (cnpj === null) {
            return false;
        }

        var regex = new RegExp("([0-9]{2}[\.]?[0-9]{3}[\.]?[0-9]{3}[\/]?[0-9]{4}[-]?[0-9]{2})$");

        if (regex.test(cnpj) === false) {
            return false;
        }

        cnpj = cnpj.replace(/[^0-9]/g, '');

        if (cnpj === cnpj.substr(0, 1).repeat(14)) {
            return false;
        }

        var multiplier1 = [5, 4, 3, 2, 9, 8, 7, 6, 5, 4, 3, 2];
        var multiplier2 = [6, 5, 4, 3, 2, 9, 8, 7, 6, 5, 4, 3, 2];

        var digit;
        var sum;
        var mod;
        var i;

        var tempCnpj = cnpj.substr(0, 12);
        sum = 0;

        for (i = 0; i < 12; i++) {
            sum += parseInt(tempCnpj[i]) * multiplier1[i];
        }

        mod = sum % 11;
        mod = mod < 2 ? 0 : 11 - mod;
        digit = mod.toString();

        tempCnpj += digit;
        sum = 0;

        for (i = 0; i < 13; i++) {
            sum += parseInt(tempCnpj[i]) * multiplier2[i];
        }

        mod = sum % 11;
        mod = mod < 2 ? 0 : 11 - mod;
        digit += mod.toString();

        return cnpj.substr(12, 2) === digit;
    };

    /**
     * Limpa todos os campos de um formulário.
     *
     * @param $form
     */
    this.clearForm = function ($form) {
        $form.find(':input').not(':button, :submit, :reset, :hidden, :checkbox, :radio').val('');
        $form.find(':checkbox, :radio').prop('checked', false);
    };
};